# Теория Области видимости

Область видимости в JavaScript определяет, где переменная или функция доступны для использования. Основные типы:

## 1. Глобальная область видимости (Global scope)  
   Переменные, объявленные вне всех функций или блоков, имеют глобальную область видимости. Они доступны во всем коде.

``` js
let x = 10; // глобальная область

function printX() {
	console.log(x); // доступно
}

console.log(x); // доступно
```
   

## 2. Функциональная область видимости (Function scope)  
   Переменные, объявленные внутри функции или её параметров, доступны только внутри этой функции (и её вложенных функций). 

``` js
function greet() {
	let name = "Alice"; // Область видимости — только внутри функции greet
	console.log("Hello, " + name);
}

greet();
console.log(name); // Ошибка: name не определена
```

## 3. Блочная область видимости (Block scope)  
   Появилась с введением let и const в ES6. Переменные, объявленные с их помощью внутри блока {}, доступны только внутри этого блока.

``` js
if (true) {
	let message = "Inside block";
	console.log(message); // работает
}
console.log(message); // Ошибка: message недоступна за пределами блока
```
   

---

# Поднятие (hoisting)

Hoisting (поднятие) — это механизм JavaScript, при котором объявления переменных, функций или классов логически "перемещаются" в начало своей области видимости во время выполнения. Это позволяет использовать переменные и функции до их явного определения, но с некоторыми условиями:

## 1. Переменные, объявленные через var, поднимаются, но их значения — нет.  
   Они инициализируются со значением undefined.

``` js
console.log(x); // undefined
var x = 5;
console.log(x); // 5
```
   
   Эквивалентный код после поднятия:

``` js
var x;
console.log(x); // undefined
x = 5;
console.log(x); // 5
```
   
## 2. Переменные, объявленные через let и const, поднимаются, но остаются в "зоне временной недоступности".  

   Использование переменной до её инициализации вызовет ошибку.

``` js
console.log(y); // Ошибка: Невозможно получить доступ к 'y' до инициализации
let y = 10;
```

## 3. Функции, объявленные через function, поднимаются вместе с телом функции.

``` js
greet(); // Доступна

function greet() {
	console.log("Hello!");
}
```
   

   Аналогичное поведение после поднятия:

``` js
function greet() {
	console.log("Hello!");
}

greet();
```
   

## 4. Функции, объявленные через выражения const или let, поднимаются так же, как переменные.

``` js
console.log(sayHi); // undefined

var sayHi = function () {
	console.log("Hi!");
};

sayHi(); // TypeError: sayHi не является функцией
```

---

# Практические задачи с решениями

## Задача 1 На понимание областей видимости

``` js
var x = 10;
function example() {
  console.log(x); // ?
  var x = 20;
  console.log(x); // ?
}
example();
```


Решение:

Первый console.log(x) выводит undefined, потому что переменная x поднимается в рамках функции. Второй console.log(x) — 20.

---

#### Задача 2: На понимание hoisting у let и const

function test() {
  console.log(a); // ?
  let a = 30;
}
test();


Решение:  
Ошибка. Переменная a поднимается, но она находится в зоне TDZ (временной недоступности) до строки let a = 30.

---

#### Задача 3: Функции и переменные

foo(); // ?
var foo = function () {
  console.log("Hi");
};


Решение:  
Ошибка. Переменная foo поднимается, но её значение (function) остаётся неприсвоенным до хода исполнения.

---

### Области применения

1. Глобальная область видимости  
   Используется для хранения ключевых данных, например, общих конфигураций или констант.  
   ⚠️ Старайтесь избегать загрязнения глобальной области видимости.

2. Функциональная область видимости  
   Уместна для внутренних реализаций с целью "скрыть" переменные от внешней среды.

3. Блочная область видимости  
   Полезна для ограничения областей видимости переменных в if, for или других блоках. Используйте let/const вместо устаревшего var.

---

### Что ещё может быть полезно

1. Разбор временной зоны недоступности (TDZ) для let и const
2. Стрелочные функции и их поведение с областями видимости
3. Различия между функциями function declaration и function expression
4. Практика с вложенными функциями и замыканиями (closures)

Если интересна какая-нибудь из этих тем, можно проработать их отдельно.ChatGPT + Midjourney, [24.02.2025 17:11]
### Области видимости и поднятие (hoisting)

Понимание областей видимости (scopes) и поднятия (hoisting) — одна из ключевых тем, которая часто обсуждается на собеседованиях для senior frontend разработчиков. Рассмотрим эту тему поэтапно.

---

### Теория Области видимости

Область видимости в JavaScript определяет, где переменная или функция доступны для использования. Основные типы:

1. Глобальная область видимости (Global scope)  
   Переменные, объявленные вне всех функций или блоков, имеют глобальную область видимости. Они доступны во всем коде.

      let x = 10; // глобальная область

   function printX() {
     console.log(x); // доступно
   }

   console.log(x); // доступно
   

2. Функциональная область видимости (Function scope)  
   Переменные, объявленные внутри функции или её параметров, доступны только внутри этой функции (и её вложенных функций). 

      function greet() {
     let name = "Alice"; // Область видимости — только внутри функции greet
     console.log("Hello, " + name);
   }

   greet();
   console.log(name); // Ошибка: name не определена
   

3. Блочная область видимости (Block scope)  
   Появилась с введением let и const в ES6. Переменные, объявленные с их помощью внутри блока {}, доступны только внутри этого блока.

      if (true) {
     let message = "Inside block";
     console.log(message); // работает
   }
   console.log(message); // Ошибка: message недоступна за пределами блока
   

---

### Поднятие (hoisting)

Hoisting (поднятие) — это механизм JavaScript, при котором объявления переменных, функций или классов логически "перемещаются" в начало своей области видимости во время выполнения. Это позволяет использовать переменные и функции до их явного определения, но с некоторыми условиями:

1. Переменные, объявленные через var, поднимаются, но их значения — нет.  
   Они инициализируются со значением undefined.

      console.log(x); // undefined
   var x = 5;
   console.log(x); // 5
   

   Эквивалентный код после поднятия:

      var x;
   console.log(x); // undefined
   x = 5;
   console.log(x); // 5
   

2. Переменные, объявленные через let и const, поднимаются, но остаются в "зоне временной недоступности".  
   Использование переменной до её инициализации вызовет ошибку.

      console.log(y); // Ошибка: Невозможно получить доступ к 'y' до инициализации
   let y = 10;
   

3. Функции, объявленные через function, поднимаются вместе с телом функции.

      greet();
   function greet() {
     console.log("Hello!");
   }
   

   Аналогичное поведение после поднятия:

      function greet() {
     console.log("Hello!");
   }
   greet();
   

4. Функции, объявленные через выражения const или let, поднимаются так же, как переменные.

      console.log(sayHi); // undefined
   var sayHi = function () {
     console.log("Hi!");
   };

   sayHi(); // TypeError: sayHi не является функцией
   

---

### Примеры и объяснение

Пример 1: Поднятие var

console.log(a); // undefined
var a = 10;
console.log(a); // 10


Объяснение: Переменная a поднимается наверх области видимости, но значение присваивается позже. Поэтому первый console.log(a) выдаёт undefined.

Пример 2: Поднятие в блочной области видимости

{
  console.log(b); // Ошибка: невозможно получить доступ к 'b' до инициализации
  let b = 20;
}


Объяснение: Переменная b поднимается, но находится в "зоне временной недоступности" до строки с её объявлением.

Пример 3: Поднятие функций

foo(); // "Hello!"
function foo() {
  console.log("Hello!");
}


Объяснение: Объявление функции foo поднимается вместе с её реализацией.

---

### Практические задачи с решениями

#### Задача 1 На понимание областей видимости

var x = 10;
function example() {
  console.log(x); // ?
  var x = 20;
  console.log(x); // ?
}
example();


Решение:

ChatGPT + Midjourney, [24.02.2025 17:11]
Первый console.log(x) выводит undefined, потому что переменная x поднимается в рамках функции. Второй console.log(x) — 20.

---

#### Задача 2: На понимание hoisting у let и const

function test() {
  console.log(a); // ?
  let a = 30;
}
test();


Решение:  
Ошибка. Переменная a поднимается, но она находится в зоне TDZ (временной недоступности) до строки let a = 30.

---

#### Задача 3: Функции и переменные

foo(); // ?
var foo = function () {
  console.log("Hi");
};


Решение:  
Ошибка. Переменная foo поднимается, но её значение (function) остаётся неприсвоенным до хода исполнения.

---

### Области применения

1. Глобальная область видимости  
   Используется для хранения ключевых данных, например, общих конфигураций или констант.  
   ⚠️ Старайтесь избегать загрязнения глобальной области видимости.

2. Функциональная область видимости  
   Уместна для внутренних реализаций с целью "скрыть" переменные от внешней среды.

3. Блочная область видимости  
   Полезна для ограничения областей видимости переменных в if, for или других блоках. Используйте let/const вместо устаревшего var.

---

### Что ещё может быть полезно

1. Разбор временной зоны недоступности (TDZ) для let и const
2. Стрелочные функции и их поведение с областями видимости
3. Различия между функциями function declaration и function expression
4. Практика с вложенными функциями и замыканиями (closures)

Если интересна какая-нибудь из этих тем, можно проработать их отдельно.